# Игры

_[Вернуться к оглавлению](readme.md)_

Данный раздел относится к играм. Они были реализованы на стороне клиента, серверу лишь оставалось их проверять неким своим античитом, и передавать клиенту с изменённым первым LPS т.е. отправителем.

В версии Агента 4.10 для ПК поставлялись такие игры как Шашки, Шахматы и Морской бой. 

## `CS_GAME` (0x1035)

Двухнаправленная команда для игр.

| Тип данных | Содержание |
| ---------- | ---------- |
| LPS        | Юзер, кому или от |
| UL         | Уникальный номер сессии |
| UL         | Команда игры |
| UL         | Порядок команды |
| UL         | Время клиента (?) |
| LPS        | Данные игры |

То что содержит программа буквально повторяет иерархию формируемого пакета. Ну, то есть "команда игры", "порядок команды" и т.д. это буквально эта картинка:

<img src="https://img-webcalypt.ru/uploads/admin/images/meme-templates/3j7L7ump8VaV3YJQ37XyH1lMD3qz2jxV.jpeg">

### Команды игры

В протоколе исчисляется цифрами

0.  `GAME_BASE`
1.  `GAME_CONNECTION_INVITE`
2.  `GAME_CONNECTION_ACCEPT`
3.  `GAME_DECLINE`
4.  `GAME_INC_VERSION`
5.  `GAME_NO_SUCH_GAME`
6.  `GAME_JOIN`
7.  `GAME_CLOSE`
8.  `GAME_SPEED`
9.  `GAME_SYNCHRONIZATION`
10. `GAME_USER_NOT_FOUND`
11. `GAME_ACCEPT_ACK`
12. `GAME_PING`
13. `GAME_RESULT`
14. `GAME_MESSAGES_NUMBER`

### Как работать с этим серверу

Серверу лишь достаточно будет перенаправлять данные клиента получателю. В случае если юзер не будет найден, отправителю вернётся тот же пакет с теми же параметрами (кроме данных) с командой `GAME_USER_NOT_FOUND`

### Как работать с этим клиенту

> [!CAUTION]
> Данный раздел не завершён в связи с необходимостью декомпиляции оригинального клиента.

¯\\\_(ツ)_/¯
