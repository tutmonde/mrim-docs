# Звонки

_[Вернуться к оглавлению](readme.md)_

> [!CAUTION]
> Данный раздел не завершён. Нужно написать про зеркалирующий сервер

Принцип работы схож с обменом файлов.

## `MRIM_CS_CALL` (0x1049) C <-> S

Запрос на звонок абоненту. В MRA это зовётся как "Позвонить на компьютер".

_Название функции неофициальное_

| Тип данных | Примерное содержание | Значение          |
| ---------- | -------------------- | ----------------- |
| LPS        | `example@mail.ru`    | От кого (если сообщение получает клиент) или куда (если отправляет клиент)        |
| UL         | N/A                  | Уникальный идентификатор передачи   |
| LPS        | N/A       | Обычно это список IP адресов к которым можно подключиться в цикличном формате "IP:PORT;" |

## `MRIM_CS_CALL_ACK` (0x1032) C <-> S

Ответ на звонок.

_Название функции неофициальное_

| Тип данных | Примерное содержание | Значение          |
| ---------- | -------------------- | ----------------- |
| LPS        | `example@mail.ru`    | От кого (если сообщение получает клиент) или куда (если отправляет клиент)        |
| UL         | N/A                  | Уникальный идентификатор передачи   |
| UL         | N/A       | Статус звонка |

Статус звонка может быть следующим:

- _0x0_ - Звонок отклонён
- _0x1_ - Звонок принят
- _0x2_ - Ошибка (возможно)
- _0x3_ - Несовместимы версии (возможно)
- _0x4_ - Нужно зеркало (возможно)

